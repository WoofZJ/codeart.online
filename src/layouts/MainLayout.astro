---
import "../styles/global.css";
import TitleBar from "../components/TitleBar.astro";
import IconBar from "../components/IconBar.astro";
import StatusBar from "../components/StatusBar.astro";

interface Props {
    title: string;
    route: string;
    sidebarTitle: string;
}

const { title, route, sidebarTitle } = Astro.props;
---

<html lang="zh-CN" class="quiet-light">
    <head>
        <meta charset="utf-8" />
        <link rel="icon" type="image/svg+xml" href="/favicon.png" />
        <meta name="viewport" content="width=device-width" />
        <meta name="generator" content={Astro.generator} />
        <title>{title}</title>
    </head>
    <body class="h-dvh">
        <section
            class="shrink-0 w-full h-full rounded-xl shadow-2xl ring-1 ring-black/10 bg-editor-bg text-editor-text"
        >
            <!-- titlebar area -->
            <TitleBar title={title} />
            <!-- body area -->
            <div class="flex h-[calc(100%-40px-24px)]">
                <!-- iconbar area -->
                <IconBar route={route} />
                <!-- sidebar area -->
                <aside class="w-72 h-full bg-sidebar-bg">
                    <div class="h-8 px-3 flex items-center">
                        <span class="tracking-wider">{sidebarTitle}</span>
                    </div>
                    <div class="h-[calc(100%-32px)] overflow-auto">
                        <slot name="sidebar-item" />
                    </div>
                </aside>
                <!-- editor area -->
                <section class="flex-1 flex flex-col">
                    <slot name="tab" />
                </section>
            </div>
            <!-- statusbar area -->
            <StatusBar />
        </section>
    </body>
</html>
